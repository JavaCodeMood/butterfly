KISSY.add("gallery/form/1.3/uploader/themes/default/index",function(g,h,i){function c(a){c.superclass.constructor.call(this,a)}var d=h.all;g.extend(c,i,{afterUploaderRender:function(){},_getStatusWrapper:function(a){return a&&a.children(".J_FileStatus")||d("")},_waitingHandler:function(){},_startHandler:function(a){var b=a.uploader,c=a.index,f=this.get("queue"),b=b.get("type"),a=d(".J_ProgressBar_"+a.id);if("ajax"==b||"flash"==b){var b=this.get("oPlugin").progressBar,e;b&&(e=new b(a,{width:this.get("progressBarWidth")}),
e.on("change",function(a){100==a.value&&e.hide()}),e.render());f.updateFile(c,{progressBar:e})}},_progressHandler:function(a){var b=a.file,a=Math.ceil(100*(a.loaded/a.total)),b=b.progressBar;if(!b)return!1;b.set("value",a)},_successHandler:function(a){var b=a.file,a=b.id,c=d(".J_Del_"+a),f=d(".J_Cancel_"+a),b=b.progressBar;c.show();f.hide();if(!b)return d(".J_ProgressBar_"+a).hide(),!1;b.set("value",100)},_errorHandler:function(a){var b=a.msg;d(".J_ErrorMsg_"+a.id).html(b)}},{ATTRS:{name:{value:"defaultTheme"},
cssUrl:{value:"gallery/form/1.3/uploader/themes/default/style.css"},fileTpl:{value:'<li id="queue-file-{id}" class="clearfix" data-name="{name}"><div class="f-l sprite file-icon"></div><div class="f-l">{name}</div><div class="f-l status-wrapper J_FileStatus"><div class="status waiting-status">\u7b49\u5f85\u4e0a\u4f20\uff0c<a class="J_Upload_{id}" href="#Upload">\u70b9\u6b64\u4e0a\u4f20</a> </div><div class="status start-status progress-status success-status clearfix"><div class="J_ProgressBar_{id} f-l uploader-progress"><img class="loading" src="http://img01.taobaocdn.com/tps/i1/T1F5tVXjRfXXXXXXXX-16-16.gif" alt="loading" /></div> <a  class="J_Cancel_{id} f-l upload-cancel" href="#uploadCancel">\u53d6\u6d88</a><a href="#fileDel" class=" f-l J_Del_{id}" style="display:none;">\u5220\u9664</a></div> <div class="status cancel-status">\u5df2\u7ecf\u53d6\u6d88\u4e0a\u4f20\uff0c<a href="#reUpload" id="J_ReUpload_{id}" class="J_Upload_{id}">\u70b9\u6b64\u91cd\u65b0\u4e0a\u4f20</a> </div><div class="status error-status upload-error"><span class="J_ErrorMsg_{id}"></span><a href="#fileDel" class="J_Del_{id}">\u5220\u9664</a></div></div></li>'},
plugins:{value:["progressBar"]},progressBarWidth:{value:100}}});return c},{requires:["node","../../theme"]});
